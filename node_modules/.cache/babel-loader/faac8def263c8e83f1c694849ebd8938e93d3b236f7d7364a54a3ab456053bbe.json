{"ast":null,"code":"import LangchainProcessor from './LangchainProcessor';\nclass MessageParser {\n  constructor(actionProvider, state, createChatBotMessage) {\n    this.actionProvider = actionProvider;\n    this.state = state;\n    this.processor = new LangchainProcessor(createChatBotMessage);\n  }\n  async parse(incomingMessage) {\n    // Log the latest message\n    console.log(\"Latest Message:\", incomingMessage);\n\n    // Log all previous messages (not including the latest)\n    console.log(\"All Previous Messages:\", this.state.messages);\n\n    // Use the processor to get a reply\n    const reply = await this.processor.process(incomingMessage, this.state.messages);\n\n    // Send the reply using the actionProvider\n    this.actionProvider.sendBotResponse(reply);\n  }\n}\nexport default MessageParser;","map":{"version":3,"names":["LangchainProcessor","MessageParser","constructor","actionProvider","state","createChatBotMessage","processor","parse","incomingMessage","console","log","messages","reply","process","sendBotResponse"],"sources":["/Users/idasilfverskiold/gptSandbox/reactlangchain/sandbox/src/components/MessageParser.js"],"sourcesContent":["import LangchainProcessor from './LangchainProcessor';\n\nclass MessageParser {\n    constructor(actionProvider, state, createChatBotMessage) {\n        this.actionProvider = actionProvider;\n        this.state = state;\n        this.processor = new LangchainProcessor(createChatBotMessage);\n    }\n\n    async parse(incomingMessage) {\n        // Log the latest message\n        console.log(\"Latest Message:\", incomingMessage);\n\n        // Log all previous messages (not including the latest)\n        console.log(\"All Previous Messages:\", this.state.messages);\n\n        // Use the processor to get a reply\n        const reply = await this.processor.process(incomingMessage, this.state.messages);\n\n        // Send the reply using the actionProvider\n        this.actionProvider.sendBotResponse(reply);\n    }\n}\n\nexport default MessageParser;\n"],"mappings":"AAAA,OAAOA,kBAAkB,MAAM,sBAAsB;AAErD,MAAMC,aAAa,CAAC;EAChBC,WAAWA,CAACC,cAAc,EAAEC,KAAK,EAAEC,oBAAoB,EAAE;IACrD,IAAI,CAACF,cAAc,GAAGA,cAAc;IACpC,IAAI,CAACC,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACE,SAAS,GAAG,IAAIN,kBAAkB,CAACK,oBAAoB,CAAC;EACjE;EAEA,MAAME,KAAKA,CAACC,eAAe,EAAE;IACzB;IACAC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEF,eAAe,CAAC;;IAE/C;IACAC,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAE,IAAI,CAACN,KAAK,CAACO,QAAQ,CAAC;;IAE1D;IACA,MAAMC,KAAK,GAAG,MAAM,IAAI,CAACN,SAAS,CAACO,OAAO,CAACL,eAAe,EAAE,IAAI,CAACJ,KAAK,CAACO,QAAQ,CAAC;;IAEhF;IACA,IAAI,CAACR,cAAc,CAACW,eAAe,CAACF,KAAK,CAAC;EAC9C;AACJ;AAEA,eAAeX,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}